:root{
  --bg:#071812; --panel:#0e2418; --text:#e9eef3; --muted:#a8b3bd;
  --up:#cf3c3c; --down:#2f8e53; --mid:#2478c5; --chip:#ffd100; --accent:#7ef7c2;
  --glow:#73ffea; --base:14px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0; overflow: hidden;}
body{
  background:linear-gradient(180deg,#04140b,#072117 60%); color:var(--text);
  font:var(--base)/1.35 system-ui,Roboto,Arial,sans-serif;
  -webkit-tap-highlight-color:transparent;
}

/* layout */
.wrap{display:grid;grid-template-rows:56px 1fr 44px;min-height:100vh;max-height:100vh}
.top{display:grid;grid-template-columns:1fr auto 68px;gap:8px;align-items:center;padding:8px;border-bottom:1px solid rgba(255,255,255,.03)}
.avatarsRow{display:flex;align-items:center;gap:8px}
.av{width:30px;height:30px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.04)}
.brand{font-weight:700;font-size:13px;opacity:.95;margin-left:6px}
.history{display:flex;gap:6px;align-items:center;overflow:hidden}
.h{min-width:18px;height:18px;border-radius:4px;display:grid;place-items:center;font-size:11px;padding:0 4px}
.h.up{background:var(--up)} .h.down{background:var(--down)} .h.mid{background:var(--mid)}
.timer{justify-self:end;width:56px;height:56px;border-radius:50%;display:grid;place-items:center;font-weight:800;font-size:16px;border:2px solid rgba(255,255,255,.04);background:rgba(0,0,0,.12)}

/* table now only center + right */
.table{display:grid;grid-template-columns:1fr 240px;gap:8px;padding:10px;height:calc(100vh - 56px - 44px);overflow:hidden}
.rightPanel{background:var(--panel);border-radius:12px;padding:10px;display:grid;gap:8px;align-content:start;min-height:0;overflow:hidden}
.center{background:var(--panel);border-radius:12px;display:grid;grid-template-rows:auto auto 1fr;gap:8px;align-items:center;justify-items:center;position:relative;padding:12px;overflow:hidden}

/* arena/dice - cubic faces defined */
.arena{width:260px;height:260px;border-radius:50%;background:
  radial-gradient(circle at 50% 40%, rgba(255,255,255,.04), rgba(0,0,0,.4)),
  radial-gradient(#0d2a1a,#07140b);display:grid;place-items:center;box-shadow:inset 0 0 28px rgba(0,0,0,.6)}
.stage{position:relative;width:220px;height:220px;perspective:1300px}
.die{position:absolute;width:90px;height:90px;transform-style:preserve-3d;left:48px;top:48px;transition:transform .7s cubic-bezier(.2,.8,.2,1)}
.die.two{left:120px;top:110px}
.face{position:absolute;width:90px;height:90px;background:#fff;border-radius:10px;box-shadow:0 4px 0 rgba(0,0,0,.12) inset;display:block}
.f1{transform:translateZ(45px)}
.f6{transform:rotateY(180deg) translateZ(45px)}
.f2{transform:rotateY(90deg) translateZ(45px)}
.f5{transform:rotateY(-90deg) translateZ(45px)}
.f3{transform:rotateX(90deg) translateZ(45px)}
.f4{transform:rotateX(-90deg) translateZ(45px)}
/* pip positions */
.pip{position:absolute;width:10px;height:10px;background:#000;border-radius:50%}
.p_c{top:50%;left:50%;transform:translate(-50%,-50%)}
.p_tl{top:18%;left:18%} .p_tr{top:18%;right:18%}
.p_ml{top:50%;left:18%;transform:translateY(-50%)} .p_mr{top:50%;right:18%;transform:translateY(-50%)}
.p_bl{bottom:18%;left:18%} .p_br{bottom:18%;right:18%}

/* bets */
.betPanel{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;width:100%}
.cell{border-radius:10px;display:grid;place-items:center;padding:10px;cursor:pointer;user-select:none;border:2px solid transparent;position:relative;min-height:60px;text-align:center}
.cell:hover{filter:brightness(1.04)}
.up{background:linear-gradient(180deg,var(--up),#a72b2b)}
.down{background:linear-gradient(180deg,var(--down),#1f6b3e)}
.mid{background:linear-gradient(180deg,var(--mid),#1a5b9a)}
.grid{display:grid;grid-template-columns:repeat(6,1fr);gap:6px;width:100%;margin-top:8px}
.gcell{background:linear-gradient(180deg,#0e3c24,#071b12);border-radius:8px;padding:8px;text-align:center;cursor:pointer;position:relative;min-height:46px;user-select:none}
.gcell .od{font-size:11px;color:#d0d9df}
.chip{position:absolute;bottom:6px;right:6px;background:var(--chip);color:#222;font-weight:800;border-radius:999px;padding:2px 8px;font-size:11px;display:none}
.gcell.sel .chip,.cell.sel .chip{display:inline-block}
.mul{position:absolute;top:6px;left:6px;background:#ff7a00;color:#111;font-weight:900;border-radius:7px;padding:2px 6px;font-size:11px;box-shadow:0 0 10px rgba(255,122,0,.6);display:none}
.mul.show{display:inline-block}

/* right */
.balRow{display:flex;justify-content:space-between;background:linear-gradient(90deg,#081a12,#06150f);padding:8px;border-radius:8px}
.chips{display:flex;gap:6px;flex-wrap:wrap}
.c{background:#24313a;border:1px solid #38434b;border-radius:999px;padding:6px 8px;cursor:pointer;font-size:13px}
.c.active{outline:2px solid var(--chip)}
.ctrls{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
button{background:transparent;color:var(--text);border:1px solid rgba(255,255,255,.04);padding:8px;border-radius:8px}
.msg{color:var(--muted);font-size:13px}

/* multiplier banner */
.multBanner{position:absolute;top:10px;left:50%;transform:translateX(-50%);padding:8px 12px;border-radius:10px;background:linear-gradient(90deg,rgba(255,255,255,.03),rgba(255,255,255,.06));font-weight:800;font-size:15px;display:none}
.multBanner.show{display:block;filter:drop-shadow(0 0 8px var(--glow))}
.multBanner.glitch{animation:glitch 0.9s ease 2}
.multBanner.thunder{animation:thunder 1.2s ease 1;box-shadow:0 0 20px rgba(150,230,255,.12)}
@keyframes glitch{0%{transform:translateX(-50%)}20%{transform:translateX(calc(-50% + 3px))}40%{transform:translateX(calc(-50% - 2px))}60%{transform:translateX(calc(-50% + 1px))}80%{transform:translateX(calc(-50% - 1px))}100%{transform:translateX(-50%)}}
@keyframes thunder{0%,100%{filter:brightness(1)}20%{filter:brightness(2)}40%{filter:brightness(1.4)}60%{filter:brightness(2.4)}}

/* coin/fly */
.coin{position:fixed;top:-30px;left:0;width:14px;height:14px;background:radial-gradient(#ffe88a,#ffcc00);border-radius:50%;box-shadow:0 0 8px rgba(255,204,0,.6);pointer-events:none}
.flycoin{position:fixed;width:12px;height:12px;background:radial-gradient(#ffe88a,#ffcc00);border-radius:50%;pointer-events:none}

/* last result row (ADDED) */
.lastRow{display:flex;justify-content:space-between;background:linear-gradient(90deg,#071a12,#06120e);padding:8px;border-radius:8px;align-items:center;font-size:14px}
#lastResult{font-weight:900}
#lastResult.up{color:var(--accent)}
#lastResult.down{color:var(--up)}
#lastResult.neutral{color:var(--muted)}

/* responsive */
@media (max-width:1000px){ .table{grid-template-columns:1fr;grid-auto-rows:auto} .rightPanel{order:2} }